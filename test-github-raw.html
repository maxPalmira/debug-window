<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test GitHub Raw File Loading</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-weight: bold;
        }
        .loading { background: #fff3cd; color: #856404; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ GitHub Raw File Test</h1>
        <p>Testing loading debug-window component directly from GitHub...</p>
        
        <div id="status" class="status loading">üîÑ Loading...</div>
        
        <div id="controls" style="display: none;">
            <button onclick="testBasicFunctionality()">Test Basic Functionality</button>
            <button onclick="testAdvancedFeatures()">Test Advanced Features</button>
            <button onclick="showDebugWindow()">Show Debug Window</button>
            <button onclick="hideDebugWindow()">Hide Debug Window</button>
        </div>

        <div id="results"></div>
    </div>

    <!-- Load debug window directly from GitHub -->
    <script src="https://raw.githubusercontent.com/maxPalmira/debug-window/main/debug-window.js"></script>
    
    <script>
        let debugWindow = null;
        const statusEl = document.getElementById('status');
        const controlsEl = document.getElementById('controls');
        const resultsEl = document.getElementById('results');

        // Test loading
        window.addEventListener('load', () => {
            setTimeout(() => {
                if (window.DebugWindow) {
                    statusEl.textContent = '‚úÖ Success! DebugWindow loaded from GitHub';
                    statusEl.className = 'status success';
                    controlsEl.style.display = 'block';
                    
                    // Initialize debug window
                    debugWindow = new DebugWindow({
                        title: 'GitHub Raw File Test',
                        position: { x: 50, y: 50 },
                        size: { width: 350, height: 400 }
                    }).init();
                    
                    debugWindow.addLog('‚úÖ Loaded from GitHub raw file!', 'info');
                    debugWindow.addLog(`üîó Source: https://raw.githubusercontent.com/maxPalmira/debug-window/main/debug-window.js`, 'info');
                    
                } else {
                    statusEl.textContent = '‚ùå Failed to load DebugWindow';
                    statusEl.className = 'status error';
                }
            }, 1000);
        });

        function testBasicFunctionality() {
            if (!debugWindow) return;
            
            debugWindow.addLog('üß™ Testing basic functionality...', 'info');
            debugWindow.addLog('This is an info message', 'info');
            debugWindow.addLog('This is a warning', 'warning');
            debugWindow.addLog('This is an error', 'error');
            
            debugWindow.addMetric('Test Metric', '42');
            debugWindow.addMetric('Load Time', `${Date.now() % 10000}ms`);
            
            resultsEl.innerHTML += '<p>‚úÖ Basic functionality test completed</p>';
        }

        function testAdvancedFeatures() {
            if (!debugWindow) return;
            
            debugWindow.addLog('üîß Testing advanced features...', 'info');
            
            debugWindow.addConfigButton('Test Button', () => {
                debugWindow.addLog('Button clicked!', 'info');
            });
            
            debugWindow.addCheckbox('Enable Feature', false, (checked) => {
                debugWindow.addLog(`Feature ${checked ? 'enabled' : 'disabled'}`, 'info');
            });
            
            debugWindow.addRadioGroup('Options', [
                { label: 'Option A', value: 'a', checked: true },
                { label: 'Option B', value: 'b' },
                { label: 'Option C', value: 'c' }
            ], (value) => {
                debugWindow.addLog(`Selected: ${value}`, 'info');
            });
            
            resultsEl.innerHTML += '<p>‚úÖ Advanced features test completed</p>';
        }

        function showDebugWindow() {
            if (debugWindow) {
                debugWindow.show();
                debugWindow.addLog('Window shown via API', 'info');
            }
        }

        function hideDebugWindow() {
            if (debugWindow) {
                debugWindow.hide();
                console.log('Debug window hidden');
            }
        }

        // Error handling
        window.addEventListener('error', (e) => {
            statusEl.textContent = `‚ùå Error: ${e.message}`;
            statusEl.className = 'status error';
        });
    </script>
</body>
</html> 